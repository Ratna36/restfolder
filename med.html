<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   Medical Report Scanner
  </title>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&amp;display=swap" rel="stylesheet"/>
  <style>
   body {
            font-family: 'Roboto', sans-serif;
        }
  </style>
 </head>
 <body class="bg-gray-100">
  <!-- Navbar -->
  <nav class="bg-white shadow-lg">
   <div class="max-w-6xl mx-auto px-4">
    <div class="flex justify-between">
     <div class="flex space-x-7">
      <div>
       <a class="flex items-center py-4 px-2" href="#">
        <img alt="Logo of the medical report scanner website, a stylized magnifying glass over a medical report" class="h-8 w-8 mr-2" height="50" src="https://storage.googleapis.com/a1aa/image/Wqnk75zMPr7rLtbiH6KOiKOsKpyKrxpcecQ5IST1jfujZTBUA.jpg" width="50"/>
        <span class="font-semibold text-gray-500 text-lg">
         MedScan
        </span>
       </a>
      </div>
      <div class="hidden md:flex items-center space-x-1">
       <a class="py-4 px-2 text-green-500 border-b-4 border-green-500 font-semibold" href="dash.html">
        Home
       </a>
       <a class="py-4 px-2 text-gray-500 font-semibold hover:text-green-500 transition duration-300" href="#fea">
        Features
       </a>
       <a class="py-4 px-2 text-gray-500 font-semibold hover:text-green-500 transition duration-300" href="#">
        Pricing
       </a>
       <a class="py-4 px-2 text-gray-500 font-semibold hover:text-green-500 transition duration-300" href="#con">
        Contact
       </a>
      </div>
     </div>
     <div class="hidden md:flex items-center space-x-3">
      <a class="py-2 px-2 font-medium text-gray-500 rounded hover:bg-green-500 hover:text-white transition duration-300" href="">
       Log In
      </a>
      <a class="py-2 px-2 font-medium text-white bg-green-500 rounded hover:bg-green-400 transition duration-300" href="">
       Sign Up
      </a>
     </div>
     <div class="md:hidden flex items-center">
      <button class="outline-none mobile-menu-button">
       <i class="fas fa-bars">
       </i>
      </button>
     </div>
    </div>
   </div>
  </nav>
  <div class="hidden mobile-menu">
   <ul class="">
    <li>
     <a class="block text-sm px-2 py-4 text-white bg-green-500 font-semibold" href="#">
      Home
     </a>
    </li>
    <li>
     <a class="block text-sm px-2 py-4 hover:bg-green-500 transition duration-300" href="#fea">
      Features
     </a>
    </li>
    <li>
     <a class="block text-sm px-2 py-4 hover:bg-green-500 transition duration-300" href="#">
      Pricing
     </a>
    </li>
    <li>
     <a class="block text-sm px-2 py-4 hover:bg-green-500 transition duration-300" href="#con">
      Contact
     </a>
    </li>
   </ul>
  </div>
  <!-- Hero Section -->
  <div class="bg-white">
   <div class="max-w-6xl mx-auto px-4 py-16">
    <div class="flex flex-col md:flex-row items-center">
     <div class="md:w-1/2">
      <h1 class="text-4xl font-bold text-gray-800 mb-4">
       Scan and Analyze Your Medical Reports
      </h1>
      <p class="text-gray-600 mb-6">
       Upload your medical reports and get detailed analysis and insights instantly. Our AI-powered tool helps you understand your health better.
      </p>
      <a class="bg-green-500 text-white py-2 px-4 rounded hover:bg-green-400 transition duration-300" href="#">
       Get Started
      </a>
     </div>
     <div class="md:w-1/2 mt-8 md:mt-0">
      <img alt="A person scanning a medical report using a smartphone, representing the medical report scanning service" class="rounded-lg shadow-lg" height="400" src="https://storage.googleapis.com/a1aa/image/l6uSmm23apLjNJ2i1cB3r57kz0IVtriQdrR1gx9ix9OY2UAF.jpg" width="600"/>
     </div>
    </div>
   </div>
  </div>
  <!-- Features Section -->
  <div class="bg-gray-100 py-16" id="fea">
   <div class="max-w-6xl mx-auto px-4">
    <h2 class="text-5xl font-bold text-gray-800 text-center mb-8 "></h2>
     Features
    </h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
     <div class="bg-white p-6 rounded-lg shadow-lg">
      <img alt="Icon representing AI-powered analysis" class="h-16 w-16 mb-4 mx-auto" height="100" src="https://storage.googleapis.com/a1aa/image/YS29qmXaWurtCxO36XJBTiZhFFI2OfboQCTVEUIe8GSnZTBUA.jpg" width="100"/>
      <h3 class="text-xl font-semibold text-gray-800 mb-2 text-center">
       AI-Powered Analysis
      </h3>
      <p class="text-gray-600 text-center">
       Get accurate and detailed analysis of your medical reports using our advanced AI algorithms.
      </p>
     </div>
     <div class="bg-white p-6 rounded-lg shadow-lg">
      <img alt="Icon representing instant results" class="h-16 w-16 mb-4 mx-auto" height="100" src="https://storage.googleapis.com/a1aa/image/ozzm8GccSJZLAx5Uecf8lrUt10LDqKmUJqRgado48MalZTBUA.jpg" width="100"/>
      <h3 class="text-xl font-semibold text-gray-800 mb-2 text-center">
       Instant Results
      </h3>
      <p class="text-gray-600 text-center">
       Receive your report analysis within seconds of uploading your documents.
      </p>
     </div>
     <div class="bg-white p-6 rounded-lg shadow-lg">
      <img alt="Icon representing secure data" class="h-16 w-16 mb-4 mx-auto" height="100" src="https://storage.googleapis.com/a1aa/image/8Xw2B8OZEbpIL12K4X0MfJzKqmvjMgRqmNFKrD2HEJSxspAKA.jpg" width="100"/>
      <h3 class="text-xl font-semibold text-gray-800 mb-2 text-center">
       Secure Data
      </h3>
      <p class="text-gray-600 text-center">
       Your data is encrypted and securely stored, ensuring your privacy and confidentiality.
      </p>
     </div>
    </div>
   </div>
  </div>
  <!-- Pricing Section -->    
<div class="bg-white py-16">
 <div class="max-w-6xl mx-auto px-4">
    <h1 class="text-3xl font-bold text-gray-800 text-center mb-8">Medical Report Scanner</h1>
    <div class="container mx-auto px-2 pt-4 pb-12 text-gray-800">
    <div class="flex flex-col items-center">
     <input type="file" id="fileInput" accept="image/*" class="mb-4 px-4 py-2 border rounded-lg focus:outline-none focus:border-green-500">
     <div class="flex space-x-4">       
        <button id="scanButton" class="bg-green-500 text-white py-2 px-4 rounded hover:bg-green-400 transition duration-300">Scan Report
        </button>
        <button id="clearButton" class="bg-red-500 text-white py-2 px-4 rounded hover:bg-red-400 transition duration-300">Clear Output</button>
     </div>
     <div id="output" class="mt-8 p-4 bg-gray-100 rounded-lg shadow-lg w-full"></div>
    </div>
 </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/tesseract.js@2.1.1/dist/tesseract.min.js"></script>
<script>
    let diseaseData = {};

    // Load the disease data from the JSON file
    fetch('diseases.json')
        .then(response => response.json())
        .then(data => {
            diseaseData = data;
        })
        .catch(err => console.error("Error loading disease data:", err));

    document.getElementById('scanButton').addEventListener('click', function() {
        const fileInput = document.getElementById('fileInput');
        if (fileInput.files.length === 0) {
            alert('Please upload an image file.');
            return;
        }

        const file = fileInput.files[0];
        const reader = new FileReader();

        reader.onload = function(event) {
            const img = new Image();
            img.src = event.target.result;

            img.onload = function() {
                console.log("Image loaded, starting OCR...");
                Tesseract.recognize(
                    img,
                    'hin+eng',  // You can change this to other languages if needed
                    {
                        logger: info => console.log(info) // Log progress
                    }
                ).then(({ data: { text } }) => {
                    console.log("OCR completed.");
                    const cleanedText = text.replace(/[^a-zA-Z\s]/g, ''); // Remove non-alphanumeric characters
                    document.getElementById('output').innerText = cleanedText;

                    // Extract disease name and provide information
                    const diseaseName = extractDisease(cleanedText);
                    if (diseaseName) {
                        const prescriptionInfo = diseaseData[diseaseName];
                        if (prescriptionInfo) {
                            document.getElementById('output').innerText += `\n\nDisease: ${diseaseName}\nPrescription: ${prescriptionInfo.prescription || 'No prescription available.'}\nInformation: ${prescriptionInfo.information || 'No additional information available.'}\ntests: ${prescriptionInfo.tests || 'No tests available.'}`;
                        } else {
                            document.getElementById('output').innerText += `\n\nDisease: ${diseaseName}\nNo information available.`;
                        }
                    } else {
                        document.getElementById('output').innerText += `\n\nNo disease detected in the scanned text.`;
                    }
                }).catch(err => {
                    console.error("Error during OCR:", err);
                    alert('Error occurred while scanning the document.');
                });
            };

            img.onerror = function() {
                console.error("Error loading image.");
                alert('Error loading the image. Please try again.');
            };
        };

        reader.readAsDataURL(file);
    });

    // Function to extract disease name from the text
    function extractDisease(text) {
        const diseases = Object.keys(diseaseData);
        for (const disease of diseases) {
            if (text.toLowerCase().includes(disease.toLowerCase())) {
                return disease;
            }
        }
        return null; // No disease found
    }

    // Clear output button functionality
    document.getElementById('clearButton').addEventListener('click', function() {
        document.getElementById('output').innerText = '';
        document.getElementById('fileInput').value = ''; // Clear the file input
    });
</script>
  <!-- <script src="https://cdn.jsdelivr.net/npm/tesseract.js@2.1.1/dist/tesseract.min.js"></script>
  <script>
      document.getElementById('scanButton').addEventListener('click', function() {
          const fileInput = document.getElementById('fileInput');
          if (fileInput.files.length === 0) {
              alert('Please upload an image file.');
              return;
          }

          const file = fileInput.files[0];
          const reader = new FileReader();

          reader.onload = function(event) {
              const img = new Image();
              img.src = event.target.result;

              img.onload = function() {
                  console.log("Image loaded, starting OCR...");
                  Tesseract.recognize(
                      img,
                      'hin+eng',  // You can change this to other languages if needed
                      {
                          logger: info => console.log(info) // Log progress
                      }
                  ).then(({ data: { text } }) => {
                      console.log("OCR completed.");
                      const cleanedText = text.replace(/[^a-zA-Z0-9\s]/g, ''); // Remove non-alphanumeric characters
                      document.getElementById('output').innerText = cleanedText;
                  }).catch(err => {
                      console.error("Error during OCR:", err);
                      alert('Error occurred while scanning the document.');
                  });
              };

              img.onerror = function() {
                  console.error("Error loading image.");
                  alert('Error loading the image. Please try again.');
              };
          };

          reader.readAsDataURL(file);
      });

      // Clear output button functionality
      document.getElementById('clearButton').addEventListener('click', function() {
          document.getElementById('output').innerText = '';
          document.getElementById('fileInput').value = ''; // Clear the file input
      });
  </script> -->
  <!-- Contact Section -->
  <div class="bg-gray-100 py-16" id="con">
   <div class="max-w-6xl mx-auto px-4">
    <h2 class="text-3xl font-bold text-gray-800 text-center mb-8">
     Contact Us
    </h2>
    <div class="flex flex-col md:flex-row items-center">
     <div class="md:w-1/2">
      <img alt="A person using a laptop and phone to contact customer support" class="rounded-lg shadow-lg" height="400" src="https://storage.googleapis.com/a1aa/image/xKCdcMB43JLJJxKrt6kNixmFHeEkUOaOXs1U5Iez8TWpZTBUA.jpg" width="600"/>
     </div>
     <div class="md:w-1/2 mt-8 md:mt-0 md:pl-8">
      <form>
       <div class="mb-4">
        <label class="block text-gray-700 font-semibold mb-2" for="name">
         Name
        </label>
        <input class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-green-500" id="name" type="text"/>
       </div>
       <div class="mb-4">
        <label class="block text-gray-700 font-semibold mb-2" for="email">
         Email
        </label>
        <input class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-green-500" id="email" type="email"/>
       </div>
       <div class="mb-4">
        <label class="block text-gray-700 font-semibold mb-2" for="message">
         Message
        </label>
        <textarea class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-green-500" id="message"></textarea>
       </div>
       <button class="bg-green-500 text-white py-2 px-4 rounded hover:bg-green-400 transition duration-300" type="submit">
        Send Message
       </button>
      </form>
     </div>
    </div>
   </div>
  </div>
  <!-- Footer -->
  <footer class="bg-white py-8">
   <div class="max-w-6xl mx-auto px-4">
    <div class="flex flex-col md:flex-row justify-between items-center">
     <div class="text-gray-600 mb-4 md:mb-0">
      © 2023 MedScan. All rights reserved.
     </div>
     <div class="flex space-x-4">
      <a class="text-gray-600 hover:text-green-500 transition duration-300" href="#">
       <i class="fab fa-facebook-f">
       </i>
      </a>
      <a class="text-gray-600 hover:text-green-500 transition duration-300" href="#">
       <i class="fab fa-twitter">
       </i>
      </a>
      <a class="text-gray-600 hover:text-green-500 transition duration-300" href="#">
       <i class="fab fa-instagram">
       </i>
      </a>
      <a class="text-gray-600 hover:text-green-500 transition duration-300" href="#">
       <i class="fab fa-linkedin-in">
       </i>
      </a>
     </div>
    </div>
   </div>
  </footer>
  <script>
   const btn = document.querySelector("button.mobile-menu-button");
        const menu = document.querySelector(".mobile-menu");

        btn.addEventListener("click", () => {
            menu.classList.toggle("hidden");
        });
  </script>
 </body>
</html>
